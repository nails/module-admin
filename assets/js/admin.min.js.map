{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/components/DynamicTable.js","assets/js/components/Sortable.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","base","this","__construct","$","each","index","element","init","$table","$body","find","data","html","empty","bindEvents","j","add","on","remove","currentTarget","closest","append","Mustache","render","$row","$item","handle","axis","containment","sortable","forceHelperSize","helper","tr","$originals","children","$helper","clone","width","eq","outerWidth","stop","val"],"mappings":"CAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,iBCGuB,WAMnB,IAAIK,EAAOC,KAQXD,EAAKE,YAAc,WAKf,OAJAC,EAAE,2BACGC,KAAK,SAASC,EAAOC,GAClBN,EAAKO,KAAKJ,EAAEG,MAEbN,GAUXA,EAAKO,KAAO,SAASC,GAEjB,IAAIC,EAAQD,EAAOE,KAAK,qCACpBC,EAAOH,EAAOG,KAAK,SAAW,GAElCH,EAAOG,KAAK,WAAYF,EAAMG,QAC9BJ,EAAOG,KAAK,QAAS,GACrBF,EAAMI,QAENb,EAAKc,WAAWN,EAAQC,GAExB,IAAK,IAAIvB,EAAI,EAAG6B,EAAIJ,EAAKd,OAAQX,EAAI6B,EAAG7B,IACpCc,EAAKgB,IAAIR,EAAQC,EAAOE,EAAKzB,IAGjC,OAAOc,GAWXA,EAAKc,WAAa,SAASN,EAAQC,GAa/B,OAZAN,EAAE,+BAAgCK,GAC7BS,GAAG,QAAS,WAET,OADAjB,EAAKgB,IAAIR,EAAQC,IACV,IAGfD,EACKS,GAAG,QAAS,kCAAmC,SAASnC,GAErD,OADAkB,EAAKkB,OAAOf,EAAErB,EAAEqC,eAAeC,QAAQ,QAChC,IAGRpB,GAYXA,EAAKgB,IAAM,SAASR,EAAQC,EAAOE,GAO/B,OANAA,EAAOA,GAAQ,IACVN,MAAQG,EAAOG,KAAK,SACzBF,EAAMY,OACFC,SAASC,OAAOf,EAAOG,KAAK,YAAaA,IAE7CH,EAAOG,KAAK,QAASA,EAAKN,MAAQ,GAC3BL,GAUXA,EAAKkB,OAAS,SAASM,GAEnB,OADAA,EAAKN,SACElB,GAKJA,EAAKE,eAxGO,yCCDL,WAMd,IAAIF,EAAOC,KAQXD,EAAKE,YAAc,WA+Bf,OA9BAC,EAAE,sBACGC,KAAK,WAEF,IAAIqB,EAAQtB,EAAEF,MACVyB,EAASD,EAAMd,KAAK,WAAa,KACjCgB,EAAOF,EAAMd,KAAK,SAAW,IAC7BiB,EAAcH,EAAMd,KAAK,gBAAkB,SAE/Cc,EAAMI,SAAS,CACXH,OAAQA,EACRC,KAAMA,EACNC,YAAaA,EACbE,iBAAiB,EACjBC,OAAQ,SAASjD,EAAGkD,GAChB,IAAIC,EAAaD,EAAGE,WAChBC,EAAUH,EAAGI,QAKjB,OAJAD,EAAQD,WAAW9B,KAAK,SAASC,GAE7BF,EAAEF,MAAMoC,MAAMJ,EAAWK,GAAGjC,GAAOkC,gBAEhCJ,GAEXK,KAAM,WACFf,EAAMf,KAAK,aAAaN,KAAK,SAASC,GAClCF,EAAEF,MAAMwC,IAAIpC,UAMzBL,GAKJA,EAAKE,eAlDE","file":"admin.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","/* exported _ADMIN_DYNAMIC_TABLE */\n/* globals Mustache */\nvar _ADMIN_DYNAMIC_TABLE;\n_ADMIN_DYNAMIC_TABLE = function() {\n\n    /**\n     * Avoid scope issues in callbacks and anonymous functions by referring to `this` as `base`\n     * @type {_ADMIN_DYNAMIC_TABLE}\n     */\n    var base = this;\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Construct _ADMIN_DYNAMIC_TABLE\n     * @return {_ADMIN_DYNAMIC_TABLE} A reference to this class\n     */\n    base.__construct = function() {\n        $('.js-admin-dynamic-table')\n            .each(function(index, element) {\n                base.init($(element));\n            });\n        return base;\n    };\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Initialise dynamic tables\n     * @param  {jQuery} $table The table DOM element\n     * @return {_ADMIN_DYNAMIC_TABLE} A reference to this class\n     */\n    base.init = function($table) {\n\n        var $body = $table.find('.js-admin-dynamic-table__template');\n        var data = $table.data('data') || [];\n\n        $table.data('template', $body.html());\n        $table.data('index', 0);\n        $body.empty();\n\n        base.bindEvents($table, $body);\n\n        for (var i = 0, j = data.length; i < j; i++) {\n            base.add($table, $body, data[i]);\n        }\n\n        return base;\n    };\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Bind events to the table\n     * @param  {jQuery} $table The table DOM element\n     * @param  {jQuery} $body  The body DOM element\n     * @return {_ADMIN_DYNAMIC_TABLE} A reference to this class\n     */\n    base.bindEvents = function($table, $body) {\n        $('.js-admin-dynamic-table__add', $table)\n            .on('click', function() {\n                base.add($table, $body);\n                return false;\n            });\n\n        $table\n            .on('click', '.js-admin-dynamic-table__remove', function(e) {\n                base.remove($(e.currentTarget).closest('tr'));\n                return false;\n            });\n\n        return base;\n    };\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Adds a new row\n     * @param  {jQuery} $table The table DOM element\n     * @param  {jQuery} $body  The body DOM element\n     * @param {Object}  data   Any data to use to populate the row\n     * @return {_ADMIN_DYNAMIC_TABLE} A reference to this class\n     */\n    base.add = function($table, $body, data) {\n        data = data || {};\n        data.index = $table.data('index');\n        $body.append(\n            Mustache.render($table.data('template'), data)\n        );\n        $table.data('index', data.index + 1);\n        return base;\n    };\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Remove a row\n     * @param  {jquery} $row The row DOM element\n     * @return {_ADMIN_DYNAMIC_TABLE} A reference to this class\n     */\n    base.remove = function($row) {\n        $row.remove();\n        return base;\n    };\n\n    // --------------------------------------------------------------------------\n\n    return base.__construct();\n}();\n","/* exported _ADMIN_SORTABLE */\nvar _ADMIN_SORTABLE;\n_ADMIN_SORTABLE = function() {\n\n    /**\n     * Avoid scope issues in callbacks and anonymous functions by referring to `this` as `base`\n     * @type {_ADMIN_SORTABLE}\n     */\n    var base = this;\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Construct _ADMIN_SORTABLE\n     * @return {_ADMIN_SORTABLE} A reference to this class\n     */\n    base.__construct = function() {\n        $('.js-admin-sortable')\n            .each(function() {\n\n                var $item = $(this);\n                var handle = $item.data('handle') || null;\n                var axis = $item.data('axis') || 'y';\n                var containment = $item.data('containment') || 'parent';\n\n                $item.sortable({\n                    handle: handle,\n                    axis: axis,\n                    containment: containment,\n                    forceHelperSize: true,\n                    helper: function(e, tr) {\n                        var $originals = tr.children();\n                        var $helper = tr.clone();\n                        $helper.children().each(function(index) {\n                            // Set helper cell sizes to match the original sizes\n                            $(this).width($originals.eq(index).outerWidth());\n                        });\n                        return $helper;\n                    },\n                    stop: function() {\n                        $item.find('.js-order').each(function(index) {\n                            $(this).val(index);\n                        });\n                    }\n                });\n            });\n\n        return base;\n    };\n\n    // --------------------------------------------------------------------------\n\n    return base.__construct();\n}();\n"]}