{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/admin.js","admin.js","assets/js/components/DynamicTable.js","assets/js/components/Sortable.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","_DynamicTable","_DynamicTable2","_Sortable","_Sortable2","_ADMIN","./components/DynamicTable.js","./components/Sortable.js","2","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","DynamicTable","_this","this","$","each","index","element","init","$table","$body","find","data","html","empty","bindEvents","j","add","_this2","on","remove","currentTarget","closest","append","Mustache","render","$row","3","Sortable","$item","handle","axis","containment","sortable","forceHelperSize","helper","tr","$originals","children","$helper","clone","width","eq","outerWidth","stop","val"],"mappings":"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","file":"admin.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","'use strict';\nlet _ADMIN;\n\nimport DynamicTable from './components/DynamicTable.js';\nimport Sortable from './components/Sortable.js';\n\n_ADMIN = (function() {\n    const dynamicTable = new DynamicTable();\n    const sortable = new Sortable();\n})();\n","(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nvar _DynamicTable = require('./components/DynamicTable.js');\n\nvar _DynamicTable2 = _interopRequireDefault(_DynamicTable);\n\nvar _Sortable = require('./components/Sortable.js');\n\nvar _Sortable2 = _interopRequireDefault(_Sortable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ADMIN = void 0;\n\n_ADMIN = function () {\n    var dynamicTable = new _DynamicTable2.default();\n    var sortable = new _Sortable2.default();\n}();\n\n},{\"./components/DynamicTable.js\":2,\"./components/Sortable.js\":3}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* export DynamicTable */\n\n/* globals Mustache, $, jQuery */\nvar DynamicTable = function () {\n\n    /**\n     * Construct DynamicTable\n     * @return {DynamicTable}\n     */\n    function DynamicTable() {\n        var _this = this;\n\n        _classCallCheck(this, DynamicTable);\n\n        $('.js-admin-dynamic-table').each(function (index, element) {\n            _this.init($(element));\n        });\n        return this;\n    }\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Initialise a dynamic table\n     * @param {jQuery} $table The table DOM element\n     * @return {DynamicTable}\n     */\n\n\n    _createClass(DynamicTable, [{\n        key: 'init',\n        value: function init($table) {\n\n            var $body = $table.find('.js-admin-dynamic-table__template');\n            var data = $table.data('data') || [];\n\n            $table.data('template', $body.html());\n            $table.data('index', 0);\n            $body.empty();\n\n            this.bindEvents($table, $body);\n\n            for (var i = 0, j = data.length; i < j; i++) {\n                this.add($table, $body, data[i]);\n            }\n\n            return this;\n        }\n\n        // --------------------------------------------------------------------------\n\n        /**\n         * Bind events\n         * @param {jQuery} $table The table DOM element\n         * @param {jQuery} $body The body DOM element\n         * @return {DynamicTable}\n         */\n\n    }, {\n        key: 'bindEvents',\n        value: function bindEvents($table, $body) {\n            var _this2 = this;\n\n            $('.js-admin-dynamic-table__add', $table).on('click', function () {\n                _this2.add($table, $body);\n                return false;\n            });\n\n            $table.on('click', '.js-admin-dynamic-table__remove', function (e) {\n                _this2.remove($(e.currentTarget).closest('tr'));\n                return false;\n            });\n\n            return this;\n        }\n\n        // --------------------------------------------------------------------------\n\n        /**\n         * Add a new row\n         * @param {jQuery} $table The table DOM element\n         * @param {jQuery} $body The body DOM element\n         * @param {Object} data Data to render the row with\n         * @return {DynamicTable}\n         */\n\n    }, {\n        key: 'add',\n        value: function add($table, $body, data) {\n            data = data || {};\n            data.index = $table.data('index') || 0;\n            $body.append(Mustache.render($table.data('template'), data));\n            $table.data('index', data.index + 1);\n\n            return this;\n        }\n\n        // --------------------------------------------------------------------------\n\n        /**\n         * Remove a row\n         * @param {jQuery} $row The row DOM element\n         * @return {DynamicTable}\n         */\n\n    }, {\n        key: 'remove',\n        value: function remove($row) {\n            $row.remove();\n            return this;\n        }\n    }]);\n\n    return DynamicTable;\n}();\n\nexports.default = DynamicTable;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/* export Sortable */\n\n/* globals $, jQuery */\nvar Sortable =\n\n/**\n * Construct Sortable\n * @return {Sortable}\n */\nfunction Sortable() {\n    _classCallCheck(this, Sortable);\n\n    $('.js-admin-sortable').each(function () {\n\n        var $item = $(this);\n        var handle = $item.data('handle') || null;\n        var axis = $item.data('axis') || 'y';\n        var containment = $item.data('containment') || 'parent';\n\n        $item.sortable({\n            handle: handle,\n            axis: axis,\n            containment: containment,\n            forceHelperSize: true,\n            helper: function helper(e, tr) {\n                var $originals = tr.children();\n                var $helper = tr.clone();\n                $helper.children().each(function (index) {\n                    // Set helper cell sizes to match the original sizes\n                    $(this).width($originals.eq(index).outerWidth());\n                });\n                return $helper;\n            },\n            stop: function stop() {\n                $item.find('.js-admin-sortable__order').each(function (index) {\n                    $(this).val(index);\n                });\n            }\n        });\n    });\n\n    return this;\n};\n\nexports.default = Sortable;\n\n},{}]},{},[1])\n\n","/* export DynamicTable */\n\n/* globals Mustache, $, jQuery */\nclass DynamicTable {\n\n    /**\n     * Construct DynamicTable\n     * @return {DynamicTable}\n     */\n    constructor() {\n\n        $('.js-admin-dynamic-table')\n            .each((index, element) => {\n                this.init($(element));\n            });\n        return this;\n    }\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Initialise a dynamic table\n     * @param {jQuery} $table The table DOM element\n     * @return {DynamicTable}\n     */\n    init($table) {\n\n        let $body = $table.find('.js-admin-dynamic-table__template');\n        let data = $table.data('data') || [];\n\n        $table.data('template', $body.html());\n        $table.data('index', 0);\n        $body.empty();\n\n        this.bindEvents($table, $body);\n\n        for (let i = 0, j = data.length; i < j; i++) {\n            this.add($table, $body, data[i]);\n        }\n\n        return this;\n    }\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Bind events\n     * @param {jQuery} $table The table DOM element\n     * @param {jQuery} $body The body DOM element\n     * @return {DynamicTable}\n     */\n    bindEvents($table, $body) {\n        $('.js-admin-dynamic-table__add', $table)\n            .on('click', () => {\n                this.add($table, $body);\n                return false;\n            });\n\n        $table\n            .on('click', '.js-admin-dynamic-table__remove', (e) => {\n                this.remove($(e.currentTarget).closest('tr'));\n                return false;\n            });\n\n        return this;\n    }\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Add a new row\n     * @param {jQuery} $table The table DOM element\n     * @param {jQuery} $body The body DOM element\n     * @param {Object} data Data to render the row with\n     * @return {DynamicTable}\n     */\n    add($table, $body, data) {\n        data = data || {};\n        data.index = $table.data('index') || 0;\n        $body.append(\n            Mustache.render($table.data('template'), data)\n        );\n        $table.data('index', data.index + 1);\n\n        return this;\n    }\n\n    // --------------------------------------------------------------------------\n\n    /**\n     * Remove a row\n     * @param {jQuery} $row The row DOM element\n     * @return {DynamicTable}\n     */\n    remove($row) {\n        $row.remove();\n        return this;\n    }\n}\n\nexport default DynamicTable;\n","/* export Sortable */\n\n/* globals $, jQuery */\nclass Sortable {\n\n    /**\n     * Construct Sortable\n     * @return {Sortable}\n     */\n    constructor() {\n        $('.js-admin-sortable')\n            .each(function() {\n\n                let $item = $(this);\n                let handle = $item.data('handle') || null;\n                let axis = $item.data('axis') || 'y';\n                let containment = $item.data('containment') || 'parent';\n\n                $item\n                    .sortable({\n                        handle: handle,\n                        axis: axis,\n                        containment: containment,\n                        forceHelperSize: true,\n                        helper: function(e, tr) {\n                            let $originals = tr.children();\n                            let $helper = tr.clone();\n                            $helper\n                                .children()\n                                .each(function(index) {\n                                    // Set helper cell sizes to match the original sizes\n                                    $(this).width($originals.eq(index).outerWidth());\n                                });\n                            return $helper;\n                        },\n                        stop: function() {\n                            $item\n                                .find('.js-admin-sortable__order')\n                                .each(function(index) {\n                                    $(this).val(index);\n                                });\n                        }\n                    });\n            });\n\n        return this;\n    }\n}\n\nexport default Sortable;\n"]}