!function(){var t=this;t.__construct=function(){t.fetchLogs()},t.fetchLogs=function(){$.ajax({url:window.SITE_URL+"api/admin/logs/site"}).done((function(e){t.fetchLogsOk(e.data)})).fail((function(e){var o;try{o=JSON.parse(e.responseText)}catch(t){o={status:500,error:"An unknown error occurred."}}t.fetchLogsFail(o)}))},t.fetchLogsOk=function(t){var e,o;if($("#logEntries").empty(),$("#pleaseNote").remove(),t.length>0){e=$("#templateLogRow").html();for(var n=0;n<t.length;n++)o=Mustache.render(e,t[n]),$("#logEntries").append(o)}else o=$("#templateNoLogFiles").html(),$("#logEntries").html(o)},t.fetchLogsFail=function(t){$("<div>").html("<p>"+t.error+"</p>").dialog({title:"An error occurred",resizable:!1,draggable:!1,modal:!0,dialogClass:"no-close",buttons:{OK:function(){$(this).dialog("close")}}}).show()},t.__construct()}();